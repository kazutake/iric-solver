!**********************************************************************
!
! iRIC solver template
!
!**********************************************************************
    program iricsolver
    use m_const
    use m_global
    use m_set_conditions
    use m_calc_main
    use m_output_result
    
    implicit none
    integer :: ier
    integer :: it
    real(8) :: htime

!======================================================================
!   計算条件設定
!======================================================================
    call set_conditions()
    
    
!======================================================================
!   計算ループ
!======================================================================
    do it = it_start, it_end
        
!----------------------------------------------------------------------
!   計算結果を出力する
!----------------------------------------------------------------------
        if(mod(it, it_output) == 0) then
            
            htime = dble(it) * dt / HOUR_SEC
            write(*,"(a7, f15.3, a10, i10, a, i10, a)") 'time : ', htime, '[hour], (', it, '/', it_end,')'
            call output_result(htime)
            
        end if
        
!----------------------------------------------------------------------
!   計算メイン
!----------------------------------------------------------------------
        
        call calc_main()
        
    end do
    
    stop
    end program